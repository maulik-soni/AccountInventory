<dashboard>
  <div class="container-fluid">
    <div class="block-header">
      <h2></h2>
    </div>
    
    <form #filters="ngForm" (ngSubmit)="onSubmit(filters,false)">
      <div class="card searchfilters">
        <div class="card-header"></div>
        <div class="card-body card-padding">
          <!-- 
            <md-radio-group [(ngModel)]="searchvalues.inventory" class="main-filter" name="inventory">
          <md-radio-button  class="radio-button" *ngFor="let option of searchatts.inventory" (change)="getoption(option)"[value]="option" >{{option}}</md-radio-button>
        </md-radio-group>-->
        
        <div  *ngIf="showfilterables"  class="filter-modal">
          <div class="filterables-container">
            
            <!-- <button type="button" (click)="getallfilterdata()"  class="btn btn-info btn-lg waves-effect">All</button> -->
            <md-radio-group [(ngModel)]="initfilterby" name="filterby">
                <md-radio-button  class="radio-button" *ngFor="let option of  collectiontype" (change)="resetcollection(option)" [value]="option">{{option}}</md-radio-button>
              </md-radio-group>

            <h3>Stones Found:{{searchcount}}</h3>
            <hr>
            
            <div  ngModelGroup="filter" class="filter-container">
              <div *ngFor="let datas of filterdata; index as i" class="filter-boxes">
                <div class="shade-bg">
                  <div ngModelGroup={{filterdata[i].item}}>
                    <p class="c-black f-500 labels">{{filtertitles[i]}}</p>
                    <div *ngFor="let data of filterdata[i].items">
                      <md-checkbox *ngIf="data" (change)="onSubmit(filters,true)" ngModel name={{data}}>{{data}}</md-checkbox>
                    </div>
                  </div> 
                </div>
              </div>
            
            </div>
            <button type="submit" class="btn btn-info waves-effect">Get Result</button> 
        </div>
        </div>
        <button type="button" (click)="showpopup()" class="btn btn-info waves-effect">Search</button>
        <hr>
        <button type="button" (click)="generatebarcode()" [disabled]="selected.length==0" class="btn bgm-lightgreen waves-effect">Generate Barcode</button>
        <button type="button" class="btn bgm-lightgreen waves-effect">Print Label</button>
        <button type="button" class="btn bgm-lightgreen waves-effect">BulK Sell</button>
        <button type="button" class="btn bgm-lightgreen waves-effect">Bulk Memo</button>
        <button type="button" class="btn bgm-lightgreen waves-effect">Bulk Lab Issue</button>
        <button type="button" class="btn bgm-lightgreen waves-effect">Download Report</button>
      </div>
      </div>

    <!-- <p>{{ filters.value | json}}</p> -->
  </form>

  <div class="card" id="print-div" >
    <ngx-barcode bc-text-position="top" bc-height="47" bc-width="1" *ngFor="let data of barcodes" [bc-value]="data" [bc-display-value]="true"></ngx-barcode>
    <button type="button" *ngIf="barcodes.length>0" (click)="printbarcode()" >Print Barcodes</button>
  </div>

  <div class="card" id="results">
    <div class="p-0 card-body card-padding overflow">
      <div class="p-0 card-header">
        <form #filterresult="ngForm">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th></th>
                <th *ngFor="let title of resulttitles">{{title[0]}}</th>
              </tr>
            </thead>
            <tbody style=" height: 130px; overflow-y: scroll">
              <tr *ngFor="let datas of result" [class.lab]="datas.status=='lab'" [class.memo]="datas.status=='memoout'">
                <td><md-checkbox *ngIf="datas" (change)="getselecteddata(filterresult)" (ngModel)=datas name={{datas|json}}></md-checkbox></td>
                <td *ngFor="let properties of resulttitles">{{datas[properties[1]]}}</td>
              </tr>
            </tbody>
          </table>
          <!-- <ngx-barcode [bc-value]="avalue" [bc-display-value]="true"></ngx-barcode> -->
          </form>
        </div>
        <p>{{filters.value | json}}</p>
    </div>
    </div>

    


  </div>
</dashboard>
