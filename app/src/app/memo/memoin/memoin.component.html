<dashboard>

	<div class="container">
	<form [formGroup]="myForm" novalidate (ngSubmit)="save(myForm)">
		<div class="block-header">
			<h2>New Jangad Entry</h2>
			<ul class="actions">
				<li>
					<label class="radio radio-inline m-r-20">
						<input type="radio" name = "memotype" [(ngModel)] = "memotype" value="memoissue" [ngModelOptions]="{standalone: true}">
						<i class="input-helper"></i>
						Jangad Issue
					</label>
					
					<label class="radio radio-inline m-r-20">
						<input type="radio" name = "memotype" [(ngModel)] = "memotype" value="memoreturn" [ngModelOptions]="{standalone: true}">
						<i class="input-helper"></i>
						Jangad In
					</label>
				</li>			
			</ul>
		</div>
		<div class="card">
			<div class="card-header">
				<h2>Basic Jangad in Information</h2>
			</div>

			<div class="card-body card-padding">
				<div class="row">
					<div class="col-sm-4">
						<div class="form-group">
							<div class="fg-line">
								<p class="form-label">Jangad Invoice Number</p>
								<input type="text" class="form-control fg-input" formControlName = "memo_invoice_number" name = "memo_invoice_number">
							</div>
						</div>
					</div>
					<div class="col-sm-4">
						<div class="form-group">
							<div class="fg-line">
								<p class="form-label">Terms</p>
								<input type="text" class="form-control fg-input" formControlName = "no_of_days" name = "no_of_days" (blur)="calcDay(newmemo.no_of_days)">	
							</div>
						</div>
					</div>
          <div class="col-sm-4">
						<p class="form-label">Jangad in Date</p>
						<material-datepicker [(date)]="newmemo.date" (onSelect)="calcDay($event)"></material-datepicker>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-4">
						<div class="form-group">
							<div class="fg-line">
								<p class="form-label">Due Date</p>
								<input type="text" class="form-control fg-input" formControlName = "due_date" name = "due_date">	
							</div>
						</div>
					</div>
				</div>
			</div>

			
		</div>
		<div class="card">
			<div class="card-header">
				<h2>Dealer and Broker Details</h2>
			</div>
			<div class="card-body card-padding">
				<div class="row">
					<div class="col-sm-12">
						<p class="form-label">Dealer Name</p>
						<ng-select [allowClear]="true"
							[items]="names"
							[disabled]="disabled"							
							(selected)="selected($event,'account_name')"
							(removed)="removed($event)"
							(typed)="typed($event)"
							[(ngModel)] = "newmemo.account_name"
							placeholder="No Dealer Name selected" name = "account_name" [ngModelOptions]="{standalone: true}">
						</ng-select>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-4 m-t-15">
						<p class="form-label">Broker Name</p>
						<ng-select [allowClear]="true"
							[items]="brokers"
							[disabled]="disabled"	
							(selected)="selected($event,'broker')"
							(removed)="removed($event)"
							(typed)="typed($event)"
							[(ngModel)] = "newmemo.broker"
							placeholder="No Broker Name selected" name = "broker" [ngModelOptions]="{standalone: true}">
						</ng-select>
					</div>
					<div class="col-sm-4 m-t-15">
						<div class="form-group">
							<div class="fg-line">
								<p class="form-label">Reference</p>
								<input type="text" class="form-control fg-input" formControlName = "reference" name = "reference">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div formArrayName="memoDetails">
			<div *ngFor="let memoDetails of myForm.controls.memoDetails.controls; let i=index">
				<div class="card">
					<div class="card-header">
						<h2 style="display: inline-block">Memo Item {{i + 1}}</h2>
						<span class="glyphicon glyphicon-remove pull-right" *ngIf="myForm.controls.memoDetails.controls.length > 1" (click)="removePiece(i)"></span>
					</div>
					<div [formGroupName]="i">
						<app-memo-details [mygroup]="myForm.controls.memoDetails.controls[i]"></app-memo-details>
					<!--<address></address>-->
					</div>
				</div>
			</div>
		</div>
		<a (click)="memoAdd()" class="btn btn-danger btn-sm  m-btn waves-effect"><i class="zmdi zmdi-plus"></i> Add Memo Item</a>

		<button class="btn btn-success btn-lg waves-effect" type="submit"><i class="zmdi zmdi-check"></i>&nbsp;&nbsp;&nbsp;Submit</button>
	</form>
</div>


</dashboard>
